<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>nginx on A Crazy Cat</title><link>https://www.505152.xyz/tags/nginx/</link><description>Recent content in nginx on A Crazy Cat</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Sat, 06 Jan 2018 23:23:21 +0800</lastBuildDate><atom:link href="https://www.505152.xyz/tags/nginx/index.xml" rel="self" type="application/rss+xml"/><item><title>nginx 重启脚本</title><link>https://www.505152.xyz/ngx-restart/</link><pubDate>Sat, 06 Jan 2018 23:23:21 +0800</pubDate><guid>https://www.505152.xyz/ngx-restart/</guid><description>#nginx startup or restart PID=(`ps -ef | grep nginx | grep -v grep | awk &amp;#39;{print $2}&amp;#39;`) if [[ $? -eq 0 &amp;amp;&amp;amp; ${#PID[*]} -gt 0 ]]; then #backend run sbin/nginx -t kill -USR2 `cat /opt/nginx/logs/nginx.pid` sleep 2 kill -QUIT `cat /opt/nginx/logs/nginx.pid.oldbin` else # startup sbin/nginx if (($? == 0)); then sleep 1 fi fi ps -ef|grep nginx|grep -v grep</description></item></channel></rss>